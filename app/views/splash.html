<div class="row-fluid">	
	<nav>
		<ul class="breadcrumb">
			<li>
				<a href="#!/">Home</a><span class="divider">/</span>
			</li>
			<li>
				<a ng-if="$root.page.breadcrumb.link.href" ng-href="{{$root.page.breadcrumb.link.href}}">{{$root.page.breadcrumb.link.title}}</a>
				<span ng-if="!$root.page.breadcrumb.link.href" style="font: bold 20px/20px arial; opacity: 0.5">{{$root.page.breadcrumb.link.title}}</span>
				<span class="divider">/</span>
			</li>
			<li class="active">
				{{$root.page.breadcrumb.link.active}}
			</li>
		</ul>
	</nav>
	<div id="mobile-splash">
		<aside id="sidebar" class="span3">
			<h3>Choose Templates</h3>
			<div class="accordion" id="setting-template">
				<!-- Mobile -->
			 	<div class="accordion-group">
			 		<div class="accordion-heading">
			 			<a class="accordion-toggle open" data-title="Mobile" data-toggle="collapse" data-parent="#setting-template" href="#tpl-mobile" ng-click="show = 'mobile'">
			 				Mobile
			 			</a>
			 		</div>
			 		<div id="tpl-mobile" class="accordion-body collapse in">
			 			<div class="accordion-inner gray">
			 				
			 				<div class="accordion" id="accordion2" style="margin-bottom:0">
			 					<div class="accordion-group">
							    	<div class="accordion-heading">
							      		<a class="accordion-toggle open" data-toggle="collapse" data-parent="#accordion2" href="#setting-basic" style="padding: 10px 0;">
							        		Basic
							      		</a>
							    	</div>
							    	<div id="setting-basic" class="accordion-body collapse in">
							      		<div class="accordion-inner" style="padding:10px 0;">
							 				<div style="min-height:130px">
								 				<div class="row-fluid">
									 				<div class="span12 btn-group">
														<button class="btn btn-block btn-info dropdown-toggle" data-toggle="dropdown">
															{{ fabric.presetSize.name ? fabric.presetSize.name : 'Select poster size' }}
														    <span class="caret"></span>
														</button>
														<ul class="dropdown-menu">
															<li ng-click='fabric.presetSize = size; fabric.setCanvasSize(size.width, size.height); fabric.setDirty(true); dropdown.sizeIsOpen = !dropdown.sizeIsOpen' ng-repeat='size in FabricConstants.presetSizes'><a>{{ size.name }}</a></li>
														</ul>
													</div>
												</div>

												<div class="row-fluid" ng-hide="!fabric.presetSize">
													<!-- Screenshot -->

									 				<div class="control-group">
														<legend>Screenshot</legend>
														<label>Upload application screenshot</label>
														<div class="controls">
															<input type="file" id="input-screenshot" class="hide">
														</div>
													</div>

													<!-- Application -->

									 				<div class="control-group">
														<legend>Application</legend>
														<label>Application Name</label>
														<div class="controls">
															<input type="text" name="fbname" class="input-large" required 
																   	ng-model="splash.mobile.text.app"
																	ui-event="{
																		focus:'fabric.setActiveObjectByName(\'app-name\')', 
																		blur :'fabric.deactivateAll()'
																	}"/>
														</div>
													</div>
									 				<div class="control-group" 
									 					 ng-class="{
									 					 	'error': !splash.mobile.qr.iphone.valid,
									 					 	'success': splash.mobile.qr.iphone.valid
									 					 }">
														<label>Iphone QR Code URL</label>
														<div class="controls" style="position:relative">
															<input type="url" name="iphone" class="input-large" required
																   ng-model="splash.mobile.qr.iphone.url" 
																   ui-event="{ focus: 'splash.mobile.onFocusQr($event)', blur:'splash.mobile.onBlurQr($event)' }"
																   ng-disabled="splash.mobile.qr.iphone.loading">
															<img class="ajax-load-qr" src="assets/img/ajax-loader.gif" width="16" height="16" 
															style="position:absolute; right:13px; top:6px;"
															ng-show="splash.mobile.qr.iphone.loading">
														</div>
													</div>
									 				<div class="control-group"
									 					 ng-class="{
									 					 	'error': !splash.mobile.qr.android.valid,
									 					 	'success': splash.mobile.qr.android.valid
									 					 }">
														<label>Android QR Code URL</label>
														<div class="controls" style="position:relative">
															<input type="url" name="android" class="input-large" required
																   ng-model="splash.mobile.qr.android.url" 
																   ui-event="{ focus: 'splash.mobile.onFocusQr($event)', blur:'splash.mobile.onBlurQr($event)' }"
																   ng-disabled="splash.mobile.qr.android.loading">
															<img class="ajax-load-qr" src="assets/img/ajax-loader.gif" width="16" height="16" 
															style="position:absolute; right:13px; top:6px;"
															ng-show="splash.mobile.qr.android.loading">
														</div>
													</div>

													<!-- Testimonials -->

													<legend style="margin-bottom:0px">Testimonials</legend>
													<div class="control-group">
														<label style="display:inline-block; width:100px">Photo</label>
														<div class="controls">
															<input type="file" id="input-testimonial-photo-left" class="hide">
														</div>
													</div>
													<div class="control-group">
														<label style="display:inline-block; width:100px">Testimoni</label>
														<div class="controls" style="display:inline;">
															<textarea class="input-large" placeholder="Enter text here.." rows="4" 
																ng-model="splash.mobile.text.left"
																ui-event="{
																	focus:'fabric.setActiveObjectByName(\'testimoni-text-left\')', 
																	blur:'fabric.deactivateAll()'
																}"></textarea>
														</div>
													</div>
													<hr/>

													<div class="control-group">
														<label style="display:inline-block; width:100px">Photo</label>
														<div class="controls">
															<input type="file" id="input-testimonial-photo-right" class="hide">
														</div>
													</div>
													<div class="control-group">
														<label style="display:inline-block; width:100px">Testimoni</label>
														<div class="controls" style="display:inline;">
															<textarea class="input-large" placeholder="Enter text here.." rows="4" 
																ng-model="splash.mobile.text.right"
																ui-event="{
																	focus:'fabric.setActiveObjectByName(\'testimoni-text-right\')', 
																	blur:'fabric.deactivateAll()'
																}"></textarea>
														</div>
													</div>
												</div>
							 				</div>

							      		</div>
							      	</div>
							    </div>
							  	<div class="accordion-group">
							    	<div class="accordion-heading">
							      		<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#setting-advance" style="padding: 10px 0;">
							        		Advanced
							      		</a>
							    	</div>
							    	<div id="setting-advance" class="accordion-body collapse">
							      		<div class="accordion-inner" style="padding:10px 0;">
							      			<div ng-show="fabric.selectedObject">
								      		    <!-- Text -->
								      			<div ng-if="fabric.selectedObject.type == 'text' || fabric.selectedObject.type == 'i-text'">
													<legend class="small">Color</legend>
									        		<div class="row-fluid">
					                                	<input type='color' class="span4 form-control" ng-model="fabric.selectedObject.fill" />
					                                	<input type='text' class="span8 form-control" ng-model="fabric.selectedObject.fill" />
													</div>

													<legend class="small">Stroke</legend>
													<div class="row-fluid">
														<div class="span8">
															<label for="">Color</label>
						                                	<input type='color' class="span4 form-control" ng-model="fabric.selectedObject.stroke"/>
						                                	<input type='text' class="span8 form-control" ng-model="fabric.selectedObject.stroke" />
														</div>
														<!-- <div class="span4">
															<label for="">Width</label>
						                                	<input type='number' class="span12 form-control" ng-model="fabric.selectedObject.strokeWidth" />
														</div> -->
													</div>

													<legend class="small">Font</legend>
													<div class="row-fluid">
														<div class="span12 btn-group">
															<button class="btn btn-block btn-info dropdown-toggle" data-toggle="dropdown">
																<span class='object-font-family-preview' style='font-family: "{{ fabric.selectedObject.fontFamily }}";'>
						                                            {{ fabric.selectedObject.fontFamily }}
						                                        </span>
															    <span class="caret"></span>
															</button>
															<ul class="dropdown-menu">
															    <li ng-repeat='font in FabricConstants.fonts' ng-click='fabric.setFontFamily(font.name); dropdown.fontIsOpen = !dropdown.fontIsOpen' style='font-family: "{{ font.name }}";'>
						                                            <a><span class='object-font-family-preview' style='font-family: {{ font.name }};'>
						                                            {{ font.name }}
						                                        </span></a>
						                                        </li>
															</ul>
														</div>
													</div>
													<p/>
													<div class="row-fluid">
														<div class="span6">
															<i class="icon-text-height"></i>
						                                	<input type='number' class="span12 form-control" ng-model="fabric.selectedObject.fontSize"/>
														</div>
														<div class="span6">
															<i class="icon-align-left"></i>
						                                	<input type='number' class="span12 form-control" ng-model="fabric.selectedObject.lineHeight" step=".1" />
														</div>
													</div>

													<legend class="small">Font Style & Align</legend>
													<div class="row-fluid">
														<div class="span6 btn-group">
															<button ng-class="{ 'btn-primary': fabric.selectedObject.textAlign == 'left' }" ng-click="fabric.selectedObject.textAlign = 'left'" class='btn btn-small'><i class="icon-align-left"></i></button>
															<button ng-class="{ 'btn-primary': fabric.selectedObject.textAlign == 'center' }" ng-click="fabric.selectedObject.textAlign = 'center'" class='btn btn-small'><i class="icon-align-center"></i></button>
															<button ng-class="{ 'btn-primary': fabric.selectedObject.textAlign == 'right' }" ng-click="fabric.selectedObject.textAlign = 'right'" class='btn btn-small'><i class="icon-align-right"></i></button>
														</div>
														<div class="span6 btn-group">
															<button ng-class="{ 'btn-primary': fabric.isBold() }" ng-click="fabric.toggleBold()" class='btn btn-small'><i class="icon-bold"></i></button>
															<button ng-class="{ 'btn-primary': fabric.isBold() }" ng-click="fabric.toggleItalic()" class='btn btn-small'><i class="icon-italic"></i></button>
															<button ng-class="{ 'btn-primary': fabric.isBold() }" ng-click="fabric.toggleUnderline()" class='btn btn-small'><i class="icon-underline"></i></button>
														</div>
													</div>
								      			</div>
												<!-- Controls -->
								      			<div class="margin-top-bottom">
								      				<legend class="small">Controls</legend>
								      				<div class="row-fluid form-horizontal">
								      					<label class="control-label text-left span5">Transparent</label>
								      					<input type="range" class="span5 form-control" min="0" max="1" step=".1" ng-model="fabric.selectedObject.opacity" />
								      					<input type="number" class="span2 form-control" min="0" max="1" step=".1" ng-model="fabric.selectedObject.opacity" />
								      				</div>
								      				<div class="row-fluid form-horizontal">
								      					<label class="control-label text-left span3">Angle</label>
								      					<input type="range" class="span6 form-control" min="-90" max="90" ng-model="fabric.controls.angle" />
								      					<input type="number" class="span3 form-control" min="-90" max="90" ng-model="fabric.controls.angle" />
								      				</div>
								      				<div class="row-fluid form-horizontal">
								      					<label class="control-label text-left span3">Top</label>
								      					<input type="range" class="span6 form-control" min="0" max="{{fabric.maxBounding.top}}" ng-model="fabric.controls.top" />
								      					<input type="number" class="span3 form-control" min="0" max="{{fabric.maxBounding.top}}" ng-model="fabric.controls.top" />
								      				</div>
								      				<div class="row-fluid form-horizontal">
								      					<label class="control-label text-left span3">Left</label>
								      					<input type="range" class="span6 form-control" min="0" max="{{fabric.maxBounding.left}}" ng-model="fabric.controls.left" />
								      					<input type="number" class="span3 form-control" min="0" max="{{fabric.maxBounding.left}}" ng-model="fabric.controls.left" />
								      				</div>
								      			</div>
								      			<!-- Positions -->
								      			<div class="margin-top-bottom">
								      				<legend class="small">Positions</legend>
									      			<div class="btn-group btn-group-vertical span12 prefix">
										              <button type="button" class="btn btn-block" ng-click='fabric.center()'>Center</button>
										              <button type="button" class="btn btn-block" ng-click='fabric.centerH()'>Center Horizontally</i></button>
										              <button type="button" class="btn btn-block" ng-click='fabric.centerV()'>Center Vertically</button>
										            </div>
								      				<legend class="small">Lock</legend>
									      			<div class="btn-group btn-group-vertical span12 prefix">
										              <button type="button" class="btn btn-block" ng-click='fabric.toggleLockActiveObject(); fabric.setDirty(true)' ng-class="{ 'btn-primary': fabric.selectedObject.lockObject }">Lock All</button>
										              <button type="button" class="btn btn-block" ng-click='fabric.toggleLockMovementXActiveObject(); fabric.setDirty(true)' ng-class="{ 'btn-primary': fabric.selectedObject.lockMovementX }"><i class="icon-resize-horizontal"></i> Lock MovementX</i></button>
										              <button type="button" class="btn btn-block" ng-click='fabric.toggleLockMovementYActiveObject(); fabric.setDirty(true)' ng-class="{ 'btn-primary': fabric.selectedObject.lockMovementY }"><i class="icon-resize-vertical"></i> Lock MovementY</button>
										            </div>
									            </div>
							      			</div>
							      		</div>
							    	</div>
							  	</div>
							</div>
							<div class="control-group margin-top-bottom">
								<a href class="btn btn-block" 
									ng-class="splash.mobile.disable.generate ? 'btn-info' : 'btn-success'"
									ng-click="downloadPoster('downloadMobile')">Generate Image</a>
								<a id="downloadMobile" class="btn btn-success btn-block"
									ng-hide="splash.mobile.disable.download">
									<i class="icon-download-alt"></i> Download
								</a>
							</div>
			 			</div>
			 		</div>
		 		</div>


				<!-- Facebook -->
			 	<div class="accordion-group">
			 		<div class="accordion-heading">
			 			<a class="accordion-toggle" data-title="Facebook" data-toggle="collapse" data-parent="#setting-template" href="#tpl-facebook">
			 				Facebook
			 			</a>
			 		</div>
			 		<div id="tpl-facebook" class="accordion-body collapse">
			 			<div class="accordion-inner gray">
			 				<div class="control-group">
								<label>Facebook URL</label>
								<div class="controls">
									<input type="text" name="fbname" class="input-large" ng-model="splash.facebook.url"
										ui-event="{ focus: 'splash.facebook.onFocusFbName($event)', blur:'splash.facebook.onBlurFbName($event)' }">
								</div>
							</div>
			 				<div class="control-group">
								<label>QR Code URL</label>
								<div class="controls">
									<input type="url" class="input-large" required 
										   ng-model="splash.facebook.qr"
										   ui-event="{ focus: 'splash.facebook.onFocusQr($event)', blur:'splash.facebook.onBlurQr($event)' }">
									<img class="ajax-load-qr" src="assets/img/ajax-loader.gif" width="16" height="16" style="vertical-align:top; padding:5px; display:none">
								</div>
							</div>
			 				<div class="control-group">
								<label class="control-label">Sticker Size</label>
								<div class="controls">
								    <div id="set-overlay" class="btn-group">
									    <button class="btn" 
									    		ng-repeat="f in ['A4','A5']"
									    		ng-class="{'active':splash.facebook.size == f}"
									    		ng-click="setFBSize(f)">
											{{f}}
									    </button>
								    </div>
								</div>
							</div>
							<div class="control-group margin-top-bottom">
								<a href class="btn btn-block" 
									ng-class="splash.facebook.disable.generate ? 'btn-info' : 'btn-success'"
									ng-click="generateSplashFacebook($event)"
									ng-disabled="splash.facebook.disable.generate"
									ng-show="splash.facebook.disable.download">Generate Image</a>
								<a href id="downloadFB" class="btn btn-success btn-block"  
									ng-hide="splash.facebook.disable.download"
									ng-disabled="splash.facebook.disable.download">
									<i class="icon-download-alt"></i> Download
								</a>
							</div>
			 			</div>
			 		</div>
			 	</div>

				<!-- Custom -->
			 	<div class="accordion-group">
			 		<div class="accordion-heading">
			 			<a class="accordion-toggle" data-title="Custom" data-toggle="collapse" data-parent="#setting-template" href="#tpl-custom">
			 				Custom
			 			</a>
			 		</div>
			 		<div id="tpl-custom" class="accordion-body collapse">
			 			<div class="accordion-inner gray">
			 				<div class="form-inline">
							<h4>Background</h4>
							<div class="row-fluid">
								<div class="span5">
									<p>Select color</p>
									<input type="text" id="input-bg-color" class="input-small" value="#FFFFFF" style="width: 70px;">
								</div>
								<div class="span2 relative" style="height: 60px;">
									<p class="anDevider">OR</p>
								</div>
								<div class="span5">
									<label>Upload image</label>
									<div class="controls">
										<input type="file" id="input-bg" class="hide" />
									</div>
								</div>
							</div>
						</div>
						<div class="form-inline">
							<h4>Logo</h4>
							<label>Upload Logo Image (use PNG for tansparent background)</label>
							<div class="controls">
								<input type="file" id="input-logo" class="hide" />
							</div>
						</div>
						<div class="form-inline">
							<h4>Reposition</h4>
							<div class="row-fluid">
								<div class="span6 text-center">
									<h5>Client logo</h5>
									<div id="slider-vertical-header" class="margin-bottom-only" style="height: 200px; margin: 0 auto;"></div>
									<input id="input-reposition-header" ng-disabled="!splash.editor.logo.y" ng-model="splash.editor.logo.p" style="width:40px; margin: 5px; border:none" />
								</div>
								<div class="span6 text-center">
									<h5>Conversion Hub Logo</h5>
						  			<div id="slider-vertical-footer" class="margin-bottom-only" style="height: 200px; margin: 0 auto;"></div>
						  			<input id="input-reposition-footer" ng-model="splash.editor.ch.p" style="width:40px; margin: 5px; border:none" />
								</div>
							</div>
						</div>
						<div class="row-fluid">
							<div class="span10 offset1 margin-top-bottom">
								<a href class="btn btn-block btn-success"
									ng-click="generateSplashCustom($event)"
									ng-hide="generateDisabled">Generate Image</a>
								<a href id="downloadZip" class="btn btn-success btn-block"  
									ng-show="generateDisabled"
									ng-disabled="isDownloadDisabled">
									<i class="icon-download-alt"></i> Download Zip
								</a>
							</div>
						</div>
						</div>
			 		</div>
			 	</div>
			 </div>
		</aside>
		<section id="editor" class="span9 editor-{{showEditor}}">
			<div ng-switch="showEditor">
				<div ng-switch-when="mobile">
		            <div class='row-fluid' style="text-align:center">
		                <div class="span12">
		                    <i class='icon-minus'></i> &nbsp;
		                    <input type='range' min='.1' max='1' step='.1' ng-change='fabric.setZoom()' ng-model='fabric.canvasScale' />
		                    &nbsp;<i class='icon-plus'></i>
		                    <input type="number" class="input-small" step='0.1' ng-model="fabric.canvasScale">
		                </div>
		            </div>

		            <div class="row-fluid" ng-if="fabric.getObjects().length > 0">
		                <div class="span9" id="objects">
		                    <button class="btn btn-small span3" ng-repeat="object in fabric.getObjects()" ng-click="fabric.setActiveObject(object)" ng-class="{'btn-primary': object.active, 'btn-default': !object.active}">
		                        <i ng-if="object.type == 'text' || object.type == 'i-text'" class="icon-font"></i>
		                        <i ng-if="object.type == 'image'" class="icon-picture"></i>
		                        <i ng-if="object.type == 'group'" class="icon-group"></i>
		                        <i ng-if="object.type == 'path-group'" class="icon-star"></i>
		                        <i ng-if="object.type == 'circle'" class="icon-circle"></i>
		                        <i ng-if="object.type == 'rect'" class="icon-square"></i>
		                        {{ object.name ? object.name : object.id }}
		                    </button>
		                </div>
		                <div class="span3" ng-show="fabric.selectedObject">
		                    <button class="btn" ng-click="fabric.deactivateAll()">Deselect Object</button>
		                </div>
		            </div>

		            <div class='image-builder margin-top-bottom' parent-click="fabric.deactivateAll()">
		                <div id="canvas-mobile" class='fabric-container'>
		                    <canvas fabric="$parent.fabric"></canvas>
		                    <div id="qrcode"></div>
		                </div>
		            </div>
				</div>
				<div ng-switch-when="facebook">
					<splash-facebook ng-model="splash.facebook" setting-element="#tpl-facebook" generate-qr="generateQR"></splash-facebook>
				</div>
				<div ng-switch-when="custom">
					<splash-creator ng-model="splash.custom"></splash-creator>
				</div>
			</div>
		</section>

		<script type="text/ng-template" id="modalInsertPhoto.html">
	        <div class="modal-header">
	            <h3 class="modal-title">Insert Photo</h3>
	        </div>
	        <div class="modal-body">
	        	<div id="mobile-photos" class="row-fluid">
					<div class="span3" ng-repeat="photo in photos">
						<i ng-if="photoIndex == $index" class="icon-ok-sign icon-2x"></i>
						<img ng-src="images/upload/{{photo}}" width="90" height="90" class="img-circle" 
							 ng-click="selected($index)">
					</div>
				</div>
				<div class="row-fluid margin-top">
	          		<a class="btn btn-success btn-input-photo" ng-click="insertPhoto($event)">Upload image</a>
					<input type="file" id="input-photo" class="hide" />
	          	</div>
	        </div>
	        <div class="modal-footer">
	            <button class="btn btn-primary" ng-click="ok()">OK</button>
	            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	        </div>
	    </script>
	</div>
</div>